LOCAL_PATH := $(call my-dir)
include $(CLEAR_VARS)
LOCAL_MODULE := libavcoedc

LOCAL_ARM_NEON := false
SUPPORT_NEON := false
HAVE_PTHREADS := yes

include $(LOCAL_PATH)/config.mak

ifeq ($(TARGET_ARCH_ABI),armeabi-v7a)
	ifeq ($(SUPPORT_NEON),true)
        LOCAL_ARM_NEON := true
        LOCAL_CFLAGS := -DHAVE_NEON=1	  	  
	else
	    HAVE_NEON := no
	endif
endif

$(info XJM debug: LOCAL_ARM_NEON = $(LOCAL_ARM_NEON))
$(info XJM debug: HAVE_NEON      = $(LOCAL_ARM_NEON))

LOCAL_CFLAGS += -DHAVE_AV_CONFIG_H -std=c99 -mfloat-abi=softfp 
  
ifeq ($(TARGET_ARCH_ABI),armeabi-v7a)
    ifeq ($(SUPPORT_NEON),true)
		LOCAL_CFLAGS += -mfpu=neon -marm -march=armv7-a -mtune=cortex-a8 
	endif
endif

AVCODEC_C_FILES = allcodecs.c                                           \
       audioconvert.c                                                   \
       avpacket.c                                                       \
       bitstream.c                                                      \
       bitstream_filter.c                                               \
       dsputil.c                                                        \
       faanidct.c                                                       \
       fmtconvert.c                                                     \
       imgconvert.c                                                     \
       jrevdct.c                                                        \
       options.c                                                        \
       parser.c                                                         \
       raw.c                                                            \
       rawdec.c                                                         \
       resample.c                                                       \
       resample2.c                                                      \
       simple_idct.c                                                    \
       utils.c                                                          \
 
# parts needed for many different codecs
AVCODEC_C_FILES-$(CONFIG_AANDCT)                  += aandcttab.c
AVCODEC_C_FILES-$(CONFIG_AC3DSP)                  += ac3dsp.c
AVCODEC_C_FILES-$(CONFIG_CRYSTALHD)               += crystalhd.c
AVCODEC_C_FILES-$(CONFIG_ENCODERS)                += faandct.c jfdctfst.c jfdctint.c
AVCODEC_C_FILES-$(CONFIG_DCT)                     += dct.c dct32_fixed.c dct32_float.c
AVCODEC_C_FILES-$(CONFIG_DWT)                     += dwt.c
AVCODEC_C_FILES-$(CONFIG_DXVA2)                   += dxva2.c
FFT-FILES-$(CONFIG_HARDCODED_TABLES)              += cos_tables.c cos_fixed_tables.c
AVCODEC_C_FILES-$(CONFIG_FFT)                     += avfft.c fft_fixed.c fft_float.c \
                                                     $(FFT-FILES-yes)
AVCODEC_C_FILES-$(CONFIG_GOLOMB)                  += golomb.c
AVCODEC_C_FILES-$(CONFIG_H264DSP)                 += h264dsp.c h264idct.c
AVCODEC_C_FILES-$(CONFIG_H264PRED)                += h264pred.c
AVCODEC_C_FILES-$(CONFIG_HUFFMAN)                 += huffman.c
AVCODEC_C_FILES-$(CONFIG_LIBXVID)                 += libxvid_rc.c
AVCODEC_C_FILES-$(CONFIG_LPC)                     += lpc.c
AVCODEC_C_FILES-$(CONFIG_LSP)                     += lsp.c
AVCODEC_C_FILES-$(CONFIG_MDCT)                    += mdct_fixed.c mdct_float.c
AVCODEC_C_FILES-$(CONFIG_MPEGAUDIODSP)            += mpegaudiodsp.c                \
                                                     mpegaudiodsp_fixed.c          \
                                                     mpegaudiodsp_float.c
RDFT-FILES-$(CONFIG_HARDCODED_TABLES)             += sin_tables.c
AVCODEC_C_FILES-$(CONFIG_RDFT)                    += rdft.c $(RDFT-FILES-yes)
AVCODEC_C_FILES-$(CONFIG_SINEWIN)                 += sinewin.c
AVCODEC_C_FILES-$(CONFIG_VAAPI)                   += vaapi.c
AVCODEC_C_FILES-$(CONFIG_VDA)                     += vda.c
AVCODEC_C_FILES-$(CONFIG_VDPAU)                   += vdpau.c

# decoders/encoders/hardware accelerators
AVCODEC_C_FILES-$(CONFIG_A64MULTI_ENCODER)        += a64multienc.c elbg.c
AVCODEC_C_FILES-$(CONFIG_A64MULTI5_ENCODER)       += a64multienc.c elbg.c
AVCODEC_C_FILES-$(CONFIG_AAC_DECODER)             += aacdec.c aactab.c aacsbr.c aacps.c \
                                                     aacadtsdec.c mpeg4audio.c kbdwin.c \
                                                     sbrdsp.c aacpsdsp.c
AVCODEC_C_FILES-$(CONFIG_AAC_ENCODER)             += aacenc.c aaccoder.c    \
                                                     aacpsy.c aactab.c      \
                                                     psymodel.c iirfilter.c \
                                                     mpeg4audio.c kbdwin.c  \
                                                     audio_frame_queue.c 
AVCODEC_C_FILES-$(CONFIG_AASC_DECODER)            += aasc.c msrledec.c
AVCODEC_C_FILES-$(CONFIG_AC3_DECODER)             += ac3dec.c ac3dec_data.c ac3.c kbdwin.c
AVCODEC_C_FILES-$(CONFIG_AC3_ENCODER)             += ac3enc_float.c ac3enc.c ac3tab.c \
                                                     ac3.c kbdwin.c
AVCODEC_C_FILES-$(CONFIG_AC3_FIXED_ENCODER)       += ac3enc_fixed.c ac3enc.c ac3tab.c ac3.c
AVCODEC_C_FILES-$(CONFIG_ALAC_DECODER)            += alac.c
AVCODEC_C_FILES-$(CONFIG_ALAC_ENCODER)            += alacenc.c
AVCODEC_C_FILES-$(CONFIG_ALS_DECODER)             += alsdec.c bgmc.c mpeg4audio.c
AVCODEC_C_FILES-$(CONFIG_AMRNB_DECODER)           += amrnbdec.c celp_filters.c   \
                                                     celp_math.c acelp_filters.c \
                                                     acelp_vectors.c             \
                                                     acelp_pitch_delay.c
AVCODEC_C_FILES-$(CONFIG_AMRWB_DECODER)           += amrwbdec.c celp_filters.c   \
                                                     celp_math.c acelp_filters.c \
                                                     acelp_vectors.c             \
                                                     acelp_pitch_delay.c lsp.c
AVCODEC_C_FILES-$(CONFIG_AMV_DECODER)             += sp5xdec.c mjpegdec.c mjpeg.c
AVCODEC_C_FILES-$(CONFIG_ANM_DECODER)             += anm.c
AVCODEC_C_FILES-$(CONFIG_ANSI_DECODER)            += ansi.c cga_data.c
AVCODEC_C_FILES-$(CONFIG_APE_DECODER)             += apedec.c
AVCODEC_C_FILES-$(CONFIG_ASS_DECODER)             += assdec.c ass.c ass_split.c
AVCODEC_C_FILES-$(CONFIG_ASS_ENCODER)             += assenc.c ass.c
AVCODEC_C_FILES-$(CONFIG_ASV1_DECODER)            += asv1.c mpeg12data.c
AVCODEC_C_FILES-$(CONFIG_ASV1_ENCODER)            += asv1.c mpeg12data.c
AVCODEC_C_FILES-$(CONFIG_ASV2_DECODER)            += asv1.c mpeg12data.c
AVCODEC_C_FILES-$(CONFIG_ASV2_ENCODER)            += asv1.c mpeg12data.c
AVCODEC_C_FILES-$(CONFIG_ATRAC1_DECODER)          += atrac1.c atrac.c
AVCODEC_C_FILES-$(CONFIG_ATRAC3_DECODER)          += atrac3.c atrac.c
AVCODEC_C_FILES-$(CONFIG_AURA_DECODER)            += cyuv.c
AVCODEC_C_FILES-$(CONFIG_AURA2_DECODER)           += aura.c
AVCODEC_C_FILES-$(CONFIG_AVRP_DECODER)            += r210dec.c
AVCODEC_C_FILES-$(CONFIG_AVRP_ENCODER)            += r210enc.c
AVCODEC_C_FILES-$(CONFIG_AVS_DECODER)             += avs.c
AVCODEC_C_FILES-$(CONFIG_AVUI_DECODER)            += avuidec.c
AVCODEC_C_FILES-$(CONFIG_AVUI_ENCODER)            += avuienc.c
AVCODEC_C_FILES-$(CONFIG_AYUV_DECODER)            += v408dec.c
AVCODEC_C_FILES-$(CONFIG_AYUV_ENCODER)            += v408enc.c
AVCODEC_C_FILES-$(CONFIG_BETHSOFTVID_DECODER)     += bethsoftvideo.c
AVCODEC_C_FILES-$(CONFIG_BFI_DECODER)             += bfi.c
AVCODEC_C_FILES-$(CONFIG_BINK_DECODER)            += bink.c binkdsp.c
AVCODEC_C_FILES-$(CONFIG_BINKAUDIO_DCT_DECODER)   += binkaudio.c wma.c wma_common.c
AVCODEC_C_FILES-$(CONFIG_BINKAUDIO_RDFT_DECODER)  += binkaudio.c wma.c wma_common.c
AVCODEC_C_FILES-$(CONFIG_BINTEXT_DECODER)         += bintext.c cga_data.c
AVCODEC_C_FILES-$(CONFIG_BMP_DECODER)             += bmp.c msrledec.c
AVCODEC_C_FILES-$(CONFIG_BMP_ENCODER)             += bmpenc.c
AVCODEC_C_FILES-$(CONFIG_BMV_VIDEO_DECODER)       += bmv.c
AVCODEC_C_FILES-$(CONFIG_BMV_AUDIO_DECODER)       += bmv.c
AVCODEC_C_FILES-$(CONFIG_C93_DECODER)             += c93.c
AVCODEC_C_FILES-$(CONFIG_CAVS_DECODER)            += cavs.c cavsdec.c cavsdsp.c \
                                                     mpeg12data.c mpegvideo.c
AVCODEC_C_FILES-$(CONFIG_CDGRAPHICS_DECODER)      += cdgraphics.c
AVCODEC_C_FILES-$(CONFIG_CDXL_DECODER)            += cdxl.c
AVCODEC_C_FILES-$(CONFIG_CINEPAK_DECODER)         += cinepak.c
AVCODEC_C_FILES-$(CONFIG_CLJR_DECODER)            += cljr.c
AVCODEC_C_FILES-$(CONFIG_CLJR_ENCODER)            += cljr.c
AVCODEC_C_FILES-$(CONFIG_COOK_DECODER)            += cook.c
AVCODEC_C_FILES-$(CONFIG_CSCD_DECODER)            += cscd.c
AVCODEC_C_FILES-$(CONFIG_CYUV_DECODER)            += cyuv.c
AVCODEC_C_FILES-$(CONFIG_DCA_DECODER)             += dca.c synth_filter.c dcadsp.c
AVCODEC_C_FILES-$(CONFIG_DCA_ENCODER)             += dcaenc.c
AVCODEC_C_FILES-$(CONFIG_DIRAC_DECODER)           += diracdec.c dirac.c diracdsp.c \
                                                     dirac_arith.c mpeg12data.c dwt.c
AVCODEC_C_FILES-$(CONFIG_DFA_DECODER)             += dfa.c
AVCODEC_C_FILES-$(CONFIG_DNXHD_DECODER)           += dnxhddec.c dnxhddata.c
AVCODEC_C_FILES-$(CONFIG_DNXHD_ENCODER)           += dnxhdenc.c dnxhddata.c       \
                                                     mpegvideo_enc.c motion_est.c \
                                                     ratecontrol.c mpeg12data.c   \
                                                     mpegvideo.c
AVCODEC_C_FILES-$(CONFIG_DPX_DECODER)             += dpx.c
AVCODEC_C_FILES-$(CONFIG_DPX_ENCODER)             += dpxenc.c
AVCODEC_C_FILES-$(CONFIG_DSICINAUDIO_DECODER)     += dsicinav.c
AVCODEC_C_FILES-$(CONFIG_DSICINVIDEO_DECODER)     += dsicinav.c
AVCODEC_C_FILES-$(CONFIG_DVBSUB_DECODER)          += dvbsubdec.c
AVCODEC_C_FILES-$(CONFIG_DVBSUB_ENCODER)          += dvbsub.c
AVCODEC_C_FILES-$(CONFIG_DVDSUB_DECODER)          += dvdsubdec.c
AVCODEC_C_FILES-$(CONFIG_DVDSUB_ENCODER)          += dvdsubenc.c
AVCODEC_C_FILES-$(CONFIG_DVVIDEO_DECODER)         += dvdec.c dv.c dvdata.c dv_profile.c
AVCODEC_C_FILES-$(CONFIG_DVVIDEO_ENCODER)         += dv.c dvdata.c dv_profile.c
AVCODEC_C_FILES-$(CONFIG_DXA_DECODER)             += dxa.c
AVCODEC_C_FILES-$(CONFIG_DXTORY_DECODER)          += dxtory.c
AVCODEC_C_FILES-$(CONFIG_EAC3_DECODER)            += eac3dec.c eac3_data.c
AVCODEC_C_FILES-$(CONFIG_EAC3_ENCODER)            += eac3enc.c ac3enc.c ac3enc_float.c \
                                                     ac3tab.c ac3.c kbdwin.c eac3_data.c
AVCODEC_C_FILES-$(CONFIG_EACMV_DECODER)           += eacmv.c
AVCODEC_C_FILES-$(CONFIG_EAMAD_DECODER)           += eamad.c eaidct.c mpeg12.c \
                                                     mpeg12data.c mpegvideo.c  \
                                                     error_resilience.c
AVCODEC_C_FILES-$(CONFIG_EATGQ_DECODER)           += eatgq.c eaidct.c
AVCODEC_C_FILES-$(CONFIG_EATGV_DECODER)           += eatgv.c
AVCODEC_C_FILES-$(CONFIG_EATQI_DECODER)           += eatqi.c eaidct.c mpeg12.c \
                                                     mpeg12data.c mpegvideo.c  \
                                                     error_resilience.c
AVCODEC_C_FILES-$(CONFIG_EIGHTBPS_DECODER)        += 8bps.c
AVCODEC_C_FILES-$(CONFIG_EIGHTSVX_EXP_DECODER)    += 8svx.c
AVCODEC_C_FILES-$(CONFIG_EIGHTSVX_FIB_DECODER)    += 8svx.c
AVCODEC_C_FILES-$(CONFIG_EIGHTSVX_RAW_DECODER)    += 8svx.c
AVCODEC_C_FILES-$(CONFIG_ESCAPE124_DECODER)       += escape124.c
AVCODEC_C_FILES-$(CONFIG_ESCAPE130_DECODER)       += escape130.c
AVCODEC_C_FILES-$(CONFIG_EXR_DECODER)             += exr.c
AVCODEC_C_FILES-$(CONFIG_FFV1_DECODER)            += ffv1.c rangecoder.c
AVCODEC_C_FILES-$(CONFIG_FFV1_ENCODER)            += ffv1.c rangecoder.c
AVCODEC_C_FILES-$(CONFIG_FFVHUFF_DECODER)         += huffyuv.c
AVCODEC_C_FILES-$(CONFIG_FFVHUFF_ENCODER)         += huffyuv.c
AVCODEC_C_FILES-$(CONFIG_FFWAVESYNTH_DECODER)     += ffwavesynth.c
AVCODEC_C_FILES-$(CONFIG_FLAC_DECODER)            += flacdec.c flacdata.c flac.c vorbis_data.c
AVCODEC_C_FILES-$(CONFIG_FLAC_ENCODER)            += flacenc.c flacdata.c flac.c vorbis_data.c
AVCODEC_C_FILES-$(CONFIG_FLASHSV_DECODER)         += flashsv.c
AVCODEC_C_FILES-$(CONFIG_FLASHSV_ENCODER)         += flashsvenc.c
AVCODEC_C_FILES-$(CONFIG_FLASHSV2_ENCODER)        += flashsv2enc.c
AVCODEC_C_FILES-$(CONFIG_FLASHSV2_DECODER)        += flashsv.c
AVCODEC_C_FILES-$(CONFIG_FLIC_DECODER)            += flicvideo.c
AVCODEC_C_FILES-$(CONFIG_FOURXM_DECODER)          += 4xm.c
AVCODEC_C_FILES-$(CONFIG_FRAPS_DECODER)           += fraps.c
AVCODEC_C_FILES-$(CONFIG_FRWU_DECODER)            += frwu.c
AVCODEC_C_FILES-$(CONFIG_G723_1_DECODER)          += g723_1.c acelp_vectors.c \
                                                     celp_filters.c celp_math.c
AVCODEC_C_FILES-$(CONFIG_G723_1_ENCODER)          += g723_1.c
AVCODEC_C_FILES-$(CONFIG_G729_DECODER)            += g729dec.c lsp.c celp_math.c acelp_filters.c acelp_pitch_delay.c acelp_vectors.c g729postfilter.c
AVCODEC_C_FILES-$(CONFIG_GIF_DECODER)             += gifdec.c lzw.c
AVCODEC_C_FILES-$(CONFIG_GIF_ENCODER)             += gif.c lzwenc.c
AVCODEC_C_FILES-$(CONFIG_GSM_DECODER)             += gsmdec.c gsmdec_data.c msgsmdec.c
AVCODEC_C_FILES-$(CONFIG_GSM_MS_DECODER)          += gsmdec.c gsmdec_data.c msgsmdec.c
AVCODEC_C_FILES-$(CONFIG_H261_DECODER)            += h261dec.c h261.c h261data.c  \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_H261_ENCODER)            += h261enc.c h261.c h261data.c  \
                                                     mpegvideo_enc.c motion_est.c \
                                                     ratecontrol.c mpeg12data.c   \
                                                     mpegvideo.c
AVCODEC_C_FILES-$(CONFIG_H263_DECODER)            += h263dec.c h263.c ituh263dec.c        \
                                                     mpeg4video.c mpeg4videodec.c flvdec.c\
                                                     intelh263dec.c mpegvideo.c           \
                                                     error_resilience.c
AVCODEC_C_FILES-$(CONFIG_H263_VAAPI_HWACCEL)      += vaapi_mpeg4.c
AVCODEC_C_FILES-$(CONFIG_H263_ENCODER)            += mpegvideo_enc.c mpeg4video.c      \
                                                     mpeg4videoenc.c motion_est.c      \
                                                     ratecontrol.c h263.c ituh263enc.c \
                                                     flvenc.c mpeg12data.c             \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_H264_DECODER)            += h264.c                               \
                                                     h264_loopfilter.c h264_direct.c      \
                                                     cabac.c h264_sei.c h264_ps.c         \
                                                     h264_refs.c h264_cavlc.c h264_cabac.c\
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_H264_DXVA2_HWACCEL)      += dxva2_h264.c
AVCODEC_C_FILES-$(CONFIG_H264_VAAPI_HWACCEL)      += vaapi_h264.c
AVCODEC_C_FILES-$(CONFIG_H264_VDA_HWACCEL)        += vda_h264.c
AVCODEC_C_FILES-$(CONFIG_HUFFYUV_DECODER)         += huffyuv.c
AVCODEC_C_FILES-$(CONFIG_HUFFYUV_ENCODER)         += huffyuv.c
AVCODEC_C_FILES-$(CONFIG_IDCIN_DECODER)           += idcinvideo.c
AVCODEC_C_FILES-$(CONFIG_IDF_DECODER)             += bintext.c cga_data.c
AVCODEC_C_FILES-$(CONFIG_IFF_BYTERUN1_DECODER)    += iff.c
AVCODEC_C_FILES-$(CONFIG_IFF_ILBM_DECODER)        += iff.c
AVCODEC_C_FILES-$(CONFIG_IMC_DECODER)             += imc.c
AVCODEC_C_FILES-$(CONFIG_INDEO2_DECODER)          += indeo2.c
AVCODEC_C_FILES-$(CONFIG_INDEO3_DECODER)          += indeo3.c
AVCODEC_C_FILES-$(CONFIG_INDEO4_DECODER)          += indeo4.c ivi_common.c ivi_dsp.c
AVCODEC_C_FILES-$(CONFIG_INDEO5_DECODER)          += indeo5.c ivi_common.c ivi_dsp.c
AVCODEC_C_FILES-$(CONFIG_INTERPLAY_DPCM_DECODER)  += dpcm.c
AVCODEC_C_FILES-$(CONFIG_INTERPLAY_VIDEO_DECODER) += interplayvideo.c
AVCODEC_C_FILES-$(CONFIG_JACOSUB_DECODER)         += jacosubdec.c ass.c
AVCODEC_C_FILES-$(CONFIG_JPEG2000_DECODER)        += j2kdec.c mqcdec.c mqc.c j2k.c j2k_dwt.c
AVCODEC_C_FILES-$(CONFIG_JPEG2000_ENCODER)        += j2kenc.c mqcenc.c mqc.c j2k.c j2k_dwt.c
AVCODEC_C_FILES-$(CONFIG_JPEGLS_DECODER)          += jpeglsdec.c jpegls.c \
                                                     mjpegdec.c mjpeg.c
AVCODEC_C_FILES-$(CONFIG_JPEGLS_ENCODER)          += jpeglsenc.c jpegls.c
AVCODEC_C_FILES-$(CONFIG_JV_DECODER)              += jvdec.c
AVCODEC_C_FILES-$(CONFIG_KGV1_DECODER)            += kgv1dec.c
AVCODEC_C_FILES-$(CONFIG_KMVC_DECODER)            += kmvc.c
AVCODEC_C_FILES-$(CONFIG_LAGARITH_DECODER)        += lagarith.c lagarithrac.c
AVCODEC_C_FILES-$(CONFIG_LJPEG_ENCODER)           += ljpegenc.c mjpegenc.c mjpeg.c \
                                                     mpegvideo_enc.c motion_est.c  \
                                                     ratecontrol.c mpeg12data.c    \
                                                     mpegvideo.c
AVCODEC_C_FILES-$(CONFIG_LOCO_DECODER)            += loco.c
AVCODEC_C_FILES-$(CONFIG_MACE3_DECODER)           += mace.c
AVCODEC_C_FILES-$(CONFIG_MACE6_DECODER)           += mace.c
AVCODEC_C_FILES-$(CONFIG_MDEC_DECODER)            += mdec.c mpeg12.c mpeg12data.c \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_MICRODVD_DECODER)        += microdvddec.c ass.c
AVCODEC_C_FILES-$(CONFIG_MIMIC_DECODER)           += mimic.c
AVCODEC_C_FILES-$(CONFIG_MJPEG_DECODER)           += mjpegdec.c mjpeg.c
AVCODEC_C_FILES-$(CONFIG_MJPEG_ENCODER)           += mjpegenc.c mjpeg.c           \
                                                     mpegvideo_enc.c motion_est.c \
                                                     ratecontrol.c mpeg12data.c   \
                                                     mpegvideo.c
AVCODEC_C_FILES-$(CONFIG_MJPEGB_DECODER)          += mjpegbdec.c mjpegdec.c mjpeg.c
AVCODEC_C_FILES-$(CONFIG_MLP_DECODER)             += mlpdec.c mlpdsp.c
AVCODEC_C_FILES-$(CONFIG_MMVIDEO_DECODER)         += mmvideo.c
AVCODEC_C_FILES-$(CONFIG_MOTIONPIXELS_DECODER)    += motionpixels.c
AVCODEC_C_FILES-$(CONFIG_MP1_DECODER)             += mpegaudiodec.c mpegaudiodecheader.c \
                                                     mpegaudio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MP1FLOAT_DECODER)        += mpegaudiodec_float.c mpegaudiodecheader.c \
                                                     mpegaudio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MP2_DECODER)             += mpegaudiodec.c mpegaudiodecheader.c \
                                                     mpegaudio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MP2_ENCODER)             += mpegaudioenc.c mpegaudio.c \
                                                     mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MP2FLOAT_DECODER)        += mpegaudiodec_float.c mpegaudiodecheader.c \
                                                     mpegaudio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MP3ADU_DECODER)          += mpegaudiodec.c mpegaudiodecheader.c \
                                                     mpegaudio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MP3ADUFLOAT_DECODER)     += mpegaudiodec_float.c mpegaudiodecheader.c \
                                                     mpegaudio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MP3ON4_DECODER)          += mpegaudiodec.c mpegaudiodecheader.c \
                                                     mpegaudio.c mpegaudiodata.c         \
                                                     mpeg4audio.c
AVCODEC_C_FILES-$(CONFIG_MP3ON4FLOAT_DECODER)     += mpegaudiodec_float.c mpegaudiodecheader.c \
                                                     mpegaudio.c mpegaudiodata.c         \
                                                     mpeg4audio.c
AVCODEC_C_FILES-$(CONFIG_MP3_DECODER)             += mpegaudiodec.c mpegaudiodecheader.c \
                                                     mpegaudio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MP3FLOAT_DECODER)        += mpegaudiodec_float.c mpegaudiodecheader.c \
                                                     mpegaudio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MPC7_DECODER)            += mpc7.c mpc.c mpegaudiodec.c      \
                                                     mpegaudiodecheader.c mpegaudio.c \
                                                     mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MPC8_DECODER)            += mpc8.c mpc.c mpegaudiodec.c      \
                                                     mpegaudiodecheader.c mpegaudio.c \
                                                     mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MPEGVIDEO_DECODER)       += mpeg12.c mpeg12data.c \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_MPEG_XVMC_DECODER)       += mpegvideo_xvmc.c
AVCODEC_C_FILES-$(CONFIG_MPEG1VIDEO_DECODER)      += mpeg12.c mpeg12data.c \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_MPEG1VIDEO_ENCODER)      += mpeg12enc.c mpegvideo_enc.c \
                                                     timecode.c                  \
                                                     motion_est.c ratecontrol.c  \
                                                     mpeg12.c mpeg12data.c       \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_MPEG2_DXVA2_HWACCEL)     += dxva2_mpeg2.c
AVCODEC_C_FILES-$(CONFIG_MPEG2_VAAPI_HWACCEL)     += vaapi_mpeg2.c
AVCODEC_C_FILES-$(CONFIG_MPEG2VIDEO_DECODER)      += mpeg12.c mpeg12data.c \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_MPEG2VIDEO_ENCODER)      += mpeg12enc.c mpegvideo_enc.c \
                                                     timecode.c                  \
                                                     motion_est.c ratecontrol.c  \
                                                     mpeg12.c mpeg12data.c       \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_MPEG4_VAAPI_HWACCEL)     += vaapi_mpeg4.c
AVCODEC_C_FILES-$(CONFIG_MSMPEG4V1_DECODER)       += msmpeg4.c msmpeg4data.c
AVCODEC_C_FILES-$(CONFIG_MSMPEG4V2_DECODER)       += msmpeg4.c msmpeg4data.c h263dec.c \
                                                     h263.c ituh263dec.c mpeg4videodec.c
AVCODEC_C_FILES-$(CONFIG_MSMPEG4V2_ENCODER)       += msmpeg4.c msmpeg4enc.c msmpeg4data.c \
                                                     h263dec.c h263.c ituh263dec.c        \
                                                     mpeg4videodec.c
AVCODEC_C_FILES-$(CONFIG_MSMPEG4V3_DECODER)       += msmpeg4.c msmpeg4enc.c msmpeg4data.c \
                                                     h263dec.c h263.c ituh263dec.c        \
                                                     mpeg4videodec.c
AVCODEC_C_FILES-$(CONFIG_MSMPEG4V3_ENCODER)       += msmpeg4.c msmpeg4data.c h263dec.c \
                                                     h263.c ituh263dec.c mpeg4videodec.c
AVCODEC_C_FILES-$(CONFIG_MSRLE_DECODER)           += msrle.c msrledec.c
AVCODEC_C_FILES-$(CONFIG_MSVIDEO1_DECODER)        += msvideo1.c
AVCODEC_C_FILES-$(CONFIG_MSVIDEO1_ENCODER)        += msvideo1enc.c elbg.c
AVCODEC_C_FILES-$(CONFIG_MSZH_DECODER)            += lcldec.c
AVCODEC_C_FILES-$(CONFIG_MXPEG_DECODER)           += mxpegdec.c mjpegdec.c mjpeg.c
AVCODEC_C_FILES-$(CONFIG_NELLYMOSER_DECODER)      += nellymoserdec.c nellymoser.c
AVCODEC_C_FILES-$(CONFIG_NELLYMOSER_ENCODER)      += nellymoserenc.c nellymoser.c \
                                                     audio_frame_queue.c
AVCODEC_C_FILES-$(CONFIG_NUV_DECODER)             += nuv.c rtjpeg.c
AVCODEC_C_FILES-$(CONFIG_PAM_DECODER)             += pnmdec.c pnm.c
AVCODEC_C_FILES-$(CONFIG_PAM_ENCODER)             += pamenc.c pnm.c
AVCODEC_C_FILES-$(CONFIG_PBM_DECODER)             += pnmdec.c pnm.c
AVCODEC_C_FILES-$(CONFIG_PBM_ENCODER)             += pnmenc.c pnm.c
AVCODEC_C_FILES-$(CONFIG_PCX_DECODER)             += pcx.c
AVCODEC_C_FILES-$(CONFIG_PCX_ENCODER)             += pcxenc.c
AVCODEC_C_FILES-$(CONFIG_PGM_DECODER)             += pnmdec.c pnm.c
AVCODEC_C_FILES-$(CONFIG_PGM_ENCODER)             += pnmenc.c pnm.c
AVCODEC_C_FILES-$(CONFIG_PGMYUV_DECODER)          += pnmdec.c pnm.c
AVCODEC_C_FILES-$(CONFIG_PGMYUV_ENCODER)          += pnmenc.c pnm.c
AVCODEC_C_FILES-$(CONFIG_PGSSUB_DECODER)          += pgssubdec.c
AVCODEC_C_FILES-$(CONFIG_PICTOR_DECODER)          += pictordec.c cga_data.c
AVCODEC_C_FILES-$(CONFIG_PNG_DECODER)             += png.c pngdec.c pngdsp.c
AVCODEC_C_FILES-$(CONFIG_PNG_ENCODER)             += png.c pngenc.c
AVCODEC_C_FILES-$(CONFIG_PPM_DECODER)             += pnmdec.c pnm.c
AVCODEC_C_FILES-$(CONFIG_PPM_ENCODER)             += pnmenc.c pnm.c
AVCODEC_C_FILES-$(CONFIG_PRORES_DECODER)          += proresdec2.c
AVCODEC_C_FILES-$(CONFIG_PRORES_LGPL_DECODER)     += proresdec_lgpl.c proresdsp.c proresdata.c
AVCODEC_C_FILES-$(CONFIG_PRORES_ENCODER)          += proresenc_anatoliy.c
AVCODEC_C_FILES-$(CONFIG_PRORES_ANATOLIY_ENCODER) += proresenc_anatoliy.c
AVCODEC_C_FILES-$(CONFIG_PRORES_KOSTYA_ENCODER)   += proresenc_kostya.c proresdata.c proresdsp.c
AVCODEC_C_FILES-$(CONFIG_PTX_DECODER)             += ptx.c
AVCODEC_C_FILES-$(CONFIG_QCELP_DECODER)           += qcelpdec.c celp_math.c         \
                                                     celp_filters.c acelp_vectors.c \
                                                     acelp_filters.c
AVCODEC_C_FILES-$(CONFIG_QDM2_DECODER)            += qdm2.c mpegaudiodec.c            \
                                                     mpegaudiodecheader.c mpegaudio.c \
                                                     mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_QDRAW_DECODER)           += qdrw.c
AVCODEC_C_FILES-$(CONFIG_QPEG_DECODER)            += qpeg.c
AVCODEC_C_FILES-$(CONFIG_QTRLE_DECODER)           += qtrle.c
AVCODEC_C_FILES-$(CONFIG_QTRLE_ENCODER)           += qtrleenc.c
AVCODEC_C_FILES-$(CONFIG_R10K_DECODER)            += r210dec.c
AVCODEC_C_FILES-$(CONFIG_R10K_ENCODER)            += r210enc.c
AVCODEC_C_FILES-$(CONFIG_R210_DECODER)            += r210dec.c
AVCODEC_C_FILES-$(CONFIG_R210_ENCODER)            += r210enc.c
AVCODEC_C_FILES-$(CONFIG_RA_144_DECODER)          += ra144dec.c ra144.c celp_filters.c
AVCODEC_C_FILES-$(CONFIG_RA_144_ENCODER)          += ra144enc.c ra144.c celp_filters.c \
                                                     audio_frame_queue.c
AVCODEC_C_FILES-$(CONFIG_RA_288_DECODER)          += ra288.c celp_math.c celp_filters.c
AVCODEC_C_FILES-$(CONFIG_RALF_DECODER)            += ralf.c
AVCODEC_C_FILES-$(CONFIG_RAWVIDEO_DECODER)        += rawdec.c
AVCODEC_C_FILES-$(CONFIG_RAWVIDEO_ENCODER)        += rawenc.c
AVCODEC_C_FILES-$(CONFIG_RL2_DECODER)             += rl2.c
AVCODEC_C_FILES-$(CONFIG_ROQ_DECODER)             += roqvideodec.c roqvideo.c
AVCODEC_C_FILES-$(CONFIG_ROQ_ENCODER)             += roqvideoenc.c roqvideo.c elbg.c
AVCODEC_C_FILES-$(CONFIG_ROQ_DPCM_DECODER)        += dpcm.c
AVCODEC_C_FILES-$(CONFIG_ROQ_DPCM_ENCODER)        += roqaudioenc.c
AVCODEC_C_FILES-$(CONFIG_RPZA_DECODER)            += rpza.c
AVCODEC_C_FILES-$(CONFIG_RV10_DECODER)            += rv10.c
AVCODEC_C_FILES-$(CONFIG_RV10_ENCODER)            += rv10enc.c
AVCODEC_C_FILES-$(CONFIG_RV20_DECODER)            += rv10.c
AVCODEC_C_FILES-$(CONFIG_RV20_ENCODER)            += rv20enc.c
AVCODEC_C_FILES-$(CONFIG_RV30_DECODER)            += rv30.c rv34.c rv30dsp.c rv34dsp.c \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_RV40_DECODER)            += rv40.c rv34.c rv34dsp.c rv40dsp.c \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_S302M_DECODER)           += s302m.c
AVCODEC_C_FILES-$(CONFIG_SGI_DECODER)             += sgidec.c
AVCODEC_C_FILES-$(CONFIG_SGI_ENCODER)             += sgienc.c rle.c
AVCODEC_C_FILES-$(CONFIG_SHORTEN_DECODER)         += shorten.c
AVCODEC_C_FILES-$(CONFIG_SIPR_DECODER)            += sipr.c acelp_pitch_delay.c     \
                                                     celp_math.c acelp_vectors.c    \
                                                     acelp_filters.c celp_filters.c \
                                                     sipr16k.c
AVCODEC_C_FILES-$(CONFIG_SMACKAUD_DECODER)        += smacker.c
AVCODEC_C_FILES-$(CONFIG_SMACKER_DECODER)         += smacker.c
AVCODEC_C_FILES-$(CONFIG_SMC_DECODER)             += smc.c
AVCODEC_C_FILES-$(CONFIG_SNOW_DECODER)            += snowdec.c snow.c rangecoder.c
AVCODEC_C_FILES-$(CONFIG_SNOW_ENCODER)            += snowenc.c snow.c rangecoder.c    \
                                                     motion_est.c ratecontrol.c       \
                                                     h263.c mpegvideo.c               \
                                                     error_resilience.c ituh263enc.c  \
                                                     mpegvideo_enc.c mpeg12data.c
AVCODEC_C_FILES-$(CONFIG_SOL_DPCM_DECODER)        += dpcm.c
AVCODEC_C_FILES-$(CONFIG_SONIC_DECODER)           += sonic.c
AVCODEC_C_FILES-$(CONFIG_SONIC_ENCODER)           += sonic.c
AVCODEC_C_FILES-$(CONFIG_SONIC_LS_ENCODER)        += sonic.c
AVCODEC_C_FILES-$(CONFIG_SP5X_DECODER)            += sp5xdec.c mjpegdec.c mjpeg.c
AVCODEC_C_FILES-$(CONFIG_SRT_DECODER)             += srtdec.c ass.c
AVCODEC_C_FILES-$(CONFIG_SRT_ENCODER)             += srtenc.c ass_split.c
AVCODEC_C_FILES-$(CONFIG_SUNRAST_DECODER)         += sunrast.c
AVCODEC_C_FILES-$(CONFIG_SUNRAST_ENCODER)         += sunrastenc.c
AVCODEC_C_FILES-$(CONFIG_SVQ1_DECODER)            += svq1dec.c svq1.c h263.c          \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_SVQ1_ENCODER)            += svq1enc.c svq1.c                 \
                                                     motion_est.c h263.c            \
                                                     mpegvideo.c error_resilience.c \
                                                     ituh263enc.c mpegvideo_enc.c   \
                                                     ratecontrol.c mpeg12data.c
AVCODEC_C_FILES-$(CONFIG_SVQ3_DECODER)            += h264.c svq3.c                       \
                                                     h264_loopfilter.c h264_direct.c     \
                                                     h264_sei.c h264_ps.c h264_refs.c    \
                                                     h264_cavlc.c h264_cabac.c cabac.c   \
                                                     mpegvideo.c error_resilience.c      \
                                                     svq1dec.c svq1.c h263.c
AVCODEC_C_FILES-$(CONFIG_TARGA_DECODER)           += targa.c
AVCODEC_C_FILES-$(CONFIG_TARGA_ENCODER)           += targaenc.c rle.c
AVCODEC_C_FILES-$(CONFIG_THEORA_DECODER)          += xiph.c
AVCODEC_C_FILES-$(CONFIG_THP_DECODER)             += mjpegdec.c mjpeg.c
AVCODEC_C_FILES-$(CONFIG_TIERTEXSEQVIDEO_DECODER) += tiertexseqv.c
AVCODEC_C_FILES-$(CONFIG_TIFF_DECODER)            += tiff.c lzw.c faxcompr.c
AVCODEC_C_FILES-$(CONFIG_TIFF_ENCODER)            += tiffenc.c rle.c lzwenc.c
AVCODEC_C_FILES-$(CONFIG_TMV_DECODER)             += tmv.c cga_data.c
AVCODEC_C_FILES-$(CONFIG_TRUEMOTION1_DECODER)     += truemotion1.c
AVCODEC_C_FILES-$(CONFIG_TRUEMOTION2_DECODER)     += truemotion2.c
AVCODEC_C_FILES-$(CONFIG_TRUESPEECH_DECODER)      += truespeech.c
AVCODEC_C_FILES-$(CONFIG_TSCC_DECODER)            += tscc.c msrledec.c
AVCODEC_C_FILES-$(CONFIG_TTA_DECODER)             += tta.c
AVCODEC_C_FILES-$(CONFIG_TWINVQ_DECODER)          += twinvq.c celp_math.c
AVCODEC_C_FILES-$(CONFIG_TXD_DECODER)             += txd.c s3tc.c
AVCODEC_C_FILES-$(CONFIG_ULTI_DECODER)            += ulti.c
AVCODEC_C_FILES-$(CONFIG_UTVIDEO_DECODER)         += utvideo.c
AVCODEC_C_FILES-$(CONFIG_V210_DECODER)            += v210dec.c
AVCODEC_C_FILES-$(CONFIG_V210_ENCODER)            += v210enc.c
AVCODEC_C_FILES-$(CONFIG_V308_DECODER)            += v308dec.c
AVCODEC_C_FILES-$(CONFIG_V308_ENCODER)            += v308enc.c
AVCODEC_C_FILES-$(CONFIG_V408_DECODER)            += v408dec.c
AVCODEC_C_FILES-$(CONFIG_V408_ENCODER)            += v408enc.c
AVCODEC_C_FILES-$(CONFIG_V410_DECODER)            += v410dec.c
AVCODEC_C_FILES-$(CONFIG_V410_ENCODER)            += v410enc.c
AVCODEC_C_FILES-$(CONFIG_V210X_DECODER)           += v210x.c
AVCODEC_C_FILES-$(CONFIG_VB_DECODER)              += vb.c
AVCODEC_C_FILES-$(CONFIG_VBLE_DECODER)            += vble.c
AVCODEC_C_FILES-$(CONFIG_VC1_DECODER)             += vc1dec.c vc1.c vc1data.c vc1dsp.c \
                                                     msmpeg4.c msmpeg4data.c           \
                                                     intrax8.c intrax8dsp.c
AVCODEC_C_FILES-$(CONFIG_VC1_DXVA2_HWACCEL)       += dxva2_vc1.c
AVCODEC_C_FILES-$(CONFIG_VC1_VAAPI_HWACCEL)       += vaapi_vc1.c
AVCODEC_C_FILES-$(CONFIG_VCR1_DECODER)            += vcr1.c
AVCODEC_C_FILES-$(CONFIG_VCR1_ENCODER)            += vcr1.c
AVCODEC_C_FILES-$(CONFIG_VMDAUDIO_DECODER)        += vmdav.c
AVCODEC_C_FILES-$(CONFIG_VMDVIDEO_DECODER)        += vmdav.c
AVCODEC_C_FILES-$(CONFIG_VMNC_DECODER)            += vmnc.c
AVCODEC_C_FILES-$(CONFIG_VORBIS_DECODER)          += vorbisdec.c vorbis.c \
                                                     vorbis_data.c xiph.c
AVCODEC_C_FILES-$(CONFIG_VORBIS_ENCODER)          += vorbisenc.c vorbis.c \
                                                     vorbis_data.c
AVCODEC_C_FILES-$(CONFIG_VP3_DECODER)             += vp3.c vp3dsp.c
AVCODEC_C_FILES-$(CONFIG_VP5_DECODER)             += vp5.c vp56.c vp56data.c vp56dsp.c \
                                                     vp3dsp.c vp56rac.c
AVCODEC_C_FILES-$(CONFIG_VP6_DECODER)             += vp6.c vp56.c vp56data.c vp56dsp.c \
                                                     vp3dsp.c vp6dsp.c vp56rac.c
AVCODEC_C_FILES-$(CONFIG_VP8_DECODER)             += vp8.c vp8dsp.c vp56rac.c
AVCODEC_C_FILES-$(CONFIG_VQA_DECODER)             += vqavideo.c
AVCODEC_C_FILES-$(CONFIG_WAVPACK_DECODER)         += wavpack.c
AVCODEC_C_FILES-$(CONFIG_WMALOSSLESS_DECODER)     += wmalosslessdec.c wma_common.c
AVCODEC_C_FILES-$(CONFIG_WMAPRO_DECODER)          += wmaprodec.c wma.c wma_common.c
AVCODEC_C_FILES-$(CONFIG_WMAV1_DECODER)           += wmadec.c wma.c wma_common.c aactab.c
AVCODEC_C_FILES-$(CONFIG_WMAV1_ENCODER)           += wmaenc.c wma.c wma_common.c aactab.c
AVCODEC_C_FILES-$(CONFIG_WMAV2_DECODER)           += wmadec.c wma.c wma_common.c aactab.c
AVCODEC_C_FILES-$(CONFIG_WMAV2_ENCODER)           += wmaenc.c wma.c wma_common.c aactab.c
AVCODEC_C_FILES-$(CONFIG_WMAVOICE_DECODER)        += wmavoice.c                 \
                                                     celp_math.c celp_filters.c \
                                                     acelp_vectors.c acelp_filters.c
AVCODEC_C_FILES-$(CONFIG_WMV1_DECODER)            += msmpeg4.c msmpeg4data.c
AVCODEC_C_FILES-$(CONFIG_WMV2_DECODER)            += wmv2dec.c wmv2.c        \
                                                     msmpeg4.c msmpeg4data.c \
                                                     intrax8.c intrax8dsp.c
AVCODEC_C_FILES-$(CONFIG_WMV2_ENCODER)            += wmv2enc.c wmv2.c        \
                                                     msmpeg4.c msmpeg4enc.c msmpeg4data.c \
                                                     mpeg4videodec.c ituh263dec.c h263dec.c
AVCODEC_C_FILES-$(CONFIG_WNV1_DECODER)            += wnv1.c
AVCODEC_C_FILES-$(CONFIG_WS_SND1_DECODER)         += ws-snd1.c
AVCODEC_C_FILES-$(CONFIG_XAN_DPCM_DECODER)        += dpcm.c
AVCODEC_C_FILES-$(CONFIG_XAN_WC3_DECODER)         += xan.c
AVCODEC_C_FILES-$(CONFIG_XAN_WC4_DECODER)         += xxan.c
AVCODEC_C_FILES-$(CONFIG_XBIN_DECODER)            += bintext.c cga_data.c
AVCODEC_C_FILES-$(CONFIG_XBM_DECODER)             += xbmdec.c
AVCODEC_C_FILES-$(CONFIG_XBM_ENCODER)             += xbmenc.c
AVCODEC_C_FILES-$(CONFIG_XL_DECODER)              += xl.c
AVCODEC_C_FILES-$(CONFIG_XSUB_DECODER)            += xsubdec.c
AVCODEC_C_FILES-$(CONFIG_XSUB_ENCODER)            += xsubenc.c
AVCODEC_C_FILES-$(CONFIG_XWD_DECODER)             += xwddec.c
AVCODEC_C_FILES-$(CONFIG_XWD_ENCODER)             += xwdenc.c
AVCODEC_C_FILES-$(CONFIG_Y41P_DECODER)            += y41pdec.c
AVCODEC_C_FILES-$(CONFIG_Y41P_ENCODER)            += y41penc.c
AVCODEC_C_FILES-$(CONFIG_YOP_DECODER)             += yop.c
AVCODEC_C_FILES-$(CONFIG_YUV4_DECODER)            += yuv4dec.c
AVCODEC_C_FILES-$(CONFIG_YUV4_ENCODER)            += yuv4enc.c
AVCODEC_C_FILES-$(CONFIG_ZEROCODEC_DECODER)       += zerocodec.c
AVCODEC_C_FILES-$(CONFIG_ZLIB_DECODER)            += lcldec.c
AVCODEC_C_FILES-$(CONFIG_ZLIB_ENCODER)            += lclenc.c
AVCODEC_C_FILES-$(CONFIG_ZMBV_DECODER)            += zmbv.c
AVCODEC_C_FILES-$(CONFIG_ZMBV_ENCODER)            += zmbvenc.c

# (AD)PCM decoders/encoders
AVCODEC_C_FILES-$(CONFIG_PCM_ALAW_DECODER)           += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_ALAW_ENCODER)           += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_BLURAY_DECODER)         += pcm-mpeg.c
AVCODEC_C_FILES-$(CONFIG_PCM_DVD_DECODER)            += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_DVD_ENCODER)            += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_F32BE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_F32BE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_F32LE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_F32LE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_F64BE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_F64BE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_F64LE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_F64LE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_LXF_DECODER)            += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_MULAW_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_MULAW_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S8_DECODER)             += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S8_ENCODER)             += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S8_PLANAR_DECODER)      += 8svx.c
AVCODEC_C_FILES-$(CONFIG_PCM_S16BE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S16BE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S16LE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S16LE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S16LE_PLANAR_DECODER)   += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S24BE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S24BE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S24DAUD_DECODER)        += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S24DAUD_ENCODER)        += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S24LE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S24LE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S32BE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S32BE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S32LE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_S32LE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U8_DECODER)             += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U8_ENCODER)             += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U16BE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U16BE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U16LE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U16LE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U24BE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U24BE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U24LE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U24LE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U32BE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U32BE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U32LE_DECODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_U32LE_ENCODER)          += pcm.c
AVCODEC_C_FILES-$(CONFIG_PCM_ZORK_DECODER)           += pcm.c

AVCODEC_C_FILES-$(CONFIG_ADPCM_4XM_DECODER)          += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_ADX_DECODER)          += adxdec.c adx.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_ADX_ENCODER)          += adxenc.c adx.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_CT_DECODER)           += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_EA_DECODER)           += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_EA_MAXIS_XA_DECODER)  += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_EA_R1_DECODER)        += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_EA_R2_DECODER)        += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_EA_R3_DECODER)        += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_EA_XAS_DECODER)       += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_G722_DECODER)         += g722.c g722dec.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_G722_ENCODER)         += g722.c g722enc.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_G726_DECODER)         += g726.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_G726_ENCODER)         += g726.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_AMV_DECODER)      += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_APC_DECODER)      += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_DK3_DECODER)      += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_DK4_DECODER)      += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_EA_EACS_DECODER)  += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_EA_SEAD_DECODER)  += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_ISS_DECODER)      += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_QT_DECODER)       += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_QT_ENCODER)       += adpcmenc.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_SMJPEG_DECODER)   += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_WAV_DECODER)      += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_WAV_ENCODER)      += adpcmenc.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_IMA_WS_DECODER)       += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_MS_DECODER)           += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_MS_ENCODER)           += adpcmenc.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_SBPRO_2_DECODER)      += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_SBPRO_3_DECODER)      += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_SBPRO_4_DECODER)      += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_SWF_DECODER)          += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_SWF_ENCODER)          += adpcmenc.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_THP_DECODER)          += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_XA_DECODER)           += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_YAMAHA_DECODER)       += adpcm.c adpcm_data.c
AVCODEC_C_FILES-$(CONFIG_ADPCM_YAMAHA_ENCODER)       += adpcmenc.c adpcm_data.c
 
# libavformat dependencies
AVCODEC_C_FILES-$(CONFIG_ADTS_MUXER)              += mpeg4audio.c
AVCODEC_C_FILES-$(CONFIG_ADX_DEMUXER)             += adx.c
AVCODEC_C_FILES-$(CONFIG_CAF_DEMUXER)             += mpeg4audio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_DV_DEMUXER)              += dv_profile.c
AVCODEC_C_FILES-$(CONFIG_DV_MUXER)                += dv_profile.c timecode.c
AVCODEC_C_FILES-$(CONFIG_FLAC_DEMUXER)            += flacdec.c flacdata.c flac.c vorbis_data.c \
                                                     vorbis_parser.c xiph.c
AVCODEC_C_FILES-$(CONFIG_FLAC_MUXER)              += flacdec.c flacdata.c flac.c vorbis_data.c
AVCODEC_C_FILES-$(CONFIG_FLV_DEMUXER)             += mpeg4audio.c
AVCODEC_C_FILES-$(CONFIG_GXF_DEMUXER)             += mpeg12data.c
AVCODEC_C_FILES-$(CONFIG_IFF_DEMUXER)             += iff.c
AVCODEC_C_FILES-$(CONFIG_LATM_MUXER)              += mpeg4audio.c
AVCODEC_C_FILES-$(CONFIG_MATROSKA_AUDIO_MUXER)    += xiph.c mpeg4audio.c vorbis_data.c \
                                                     flacdec.c flacdata.c flac.c
AVCODEC_C_FILES-$(CONFIG_MATROSKA_DEMUXER)        += mpeg4audio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MATROSKA_MUXER)          += xiph.c mpeg4audio.c         \
                                                     flacdec.c flacdata.c flac.c \
                                                     mpegaudiodata.c vorbis_data.c
AVCODEC_C_FILES-$(CONFIG_MP3_MUXER)               += mpegaudiodata.c mpegaudiodecheader.c
AVCODEC_C_FILES-$(CONFIG_MOV_DEMUXER)             += mpeg4audio.c mpegaudiodata.c ac3tab.c timecode.c
AVCODEC_C_FILES-$(CONFIG_MOV_MUXER)               += mpeg4audio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MPEGTS_MUXER)            += mpegvideo.c mpeg4audio.c
AVCODEC_C_FILES-$(CONFIG_MPEGTS_DEMUXER)          += mpeg4audio.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MXF_MUXER)               += timecode.c
AVCODEC_C_FILES-$(CONFIG_NUT_MUXER)               += mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_OGG_DEMUXER)             += flacdec.c flacdata.c flac.c        \
                                                     dirac.c mpeg12data.c vorbis_parser.c \
                                                     xiph.c vorbis_data.c
AVCODEC_C_FILES-$(CONFIG_OGG_MUXER)               += xiph.c flacdec.c flacdata.c flac.c \
                                                     vorbis_data.c
AVCODEC_C_FILES-$(CONFIG_RTP_MUXER)               += mpeg4audio.c mpegvideo.c xiph.c
AVCODEC_C_FILES-$(CONFIG_SPDIF_DEMUXER)           += aacadtsdec.c mpeg4audio.c
AVCODEC_C_FILES-$(CONFIG_WEBM_MUXER)              += xiph.c mpeg4audio.c         \
                                                     flacdec.c flacdata.c flac.c \
													 mpegaudiodata.c vorbis_data.c
AVCODEC_C_FILES-$(CONFIG_WTV_DEMUXER)             += mpeg4audio.c mpegaudiodata.c
 
# external codec libraries
AVCODEC_C_FILES-$(CONFIG_LIBAACPLUS_ENCODER)         += libaacplus.c
AVCODEC_C_FILES-$(CONFIG_LIBCELT_DECODER)            += libcelt_dec.c
AVCODEC_C_FILES-$(CONFIG_LIBFAAC_ENCODER)            += libfaac.c audio_frame_queue.c
AVCODEC_C_FILES-$(CONFIG_LIBGSM_DECODER)             += libgsm.c
AVCODEC_C_FILES-$(CONFIG_LIBGSM_ENCODER)             += libgsm.c
AVCODEC_C_FILES-$(CONFIG_LIBGSM_MS_DECODER)          += libgsm.c
AVCODEC_C_FILES-$(CONFIG_LIBGSM_MS_ENCODER)          += libgsm.c
AVCODEC_C_FILES-$(CONFIG_LIBMP3LAME_ENCODER)         += libmp3lame.c mpegaudiodecheader.c \
                                                        audio_frame_queue.c
AVCODEC_C_FILES-$(CONFIG_LIBOPENCORE_AMRNB_DECODER)  += libopencore-amr.c \
                                                        audio_frame_queue.c
AVCODEC_C_FILES-$(CONFIG_LIBOPENCORE_AMRNB_ENCODER)  += libopencore-amr.c \
                                                        audio_frame_queue.c
AVCODEC_C_FILES-$(CONFIG_LIBOPENCORE_AMRWB_DECODER)  += libopencore-amr.c
AVCODEC_C_FILES-$(CONFIG_LIBOPENJPEG_DECODER)        += libopenjpegdec.c
AVCODEC_C_FILES-$(CONFIG_LIBOPENJPEG_ENCODER)        += libopenjpegenc.c
AVCODEC_C_FILES-$(CONFIG_LIBSCHROEDINGER_DECODER)    += libschroedingerdec.c \
                                                        libschroedinger.c    
AVCODEC_C_FILES-$(CONFIG_LIBSCHROEDINGER_ENCODER)    += libschroedingerenc.c \
                                                        libschroedinger.c    
AVCODEC_C_FILES-$(CONFIG_LIBSPEEX_DECODER)           += libspeexdec.c
AVCODEC_C_FILES-$(CONFIG_LIBSPEEX_ENCODER)           += libspeexenc.c audio_frame_queue.c
AVCODEC_C_FILES-$(CONFIG_LIBSTAGEFRIGHT_H264_DECODER)+= libstagefright.c
AVCODEC_C_FILES-$(CONFIG_LIBTHEORA_ENCODER)          += libtheoraenc.c
AVCODEC_C_FILES-$(CONFIG_LIBUTVIDEO_DECODER)         += libutvideodec.c
AVCODEC_C_FILES-$(CONFIG_LIBUTVIDEO_ENCODER)         += libutvideoenc.c
AVCODEC_C_FILES-$(CONFIG_LIBVO_AACENC_ENCODER)       += libvo-aacenc.c mpeg4audio.c \
                                                        audio_frame_queue.c
AVCODEC_C_FILES-$(CONFIG_LIBVO_AMRWBENC_ENCODER)     += libvo-amrwbenc.c
AVCODEC_C_FILES-$(CONFIG_LIBVORBIS_ENCODER)          += libvorbis.c audio_frame_queue.c \
                                                        vorbis_data.c vorbis_parser.c
AVCODEC_C_FILES-$(CONFIG_LIBVPX_DECODER)             += libvpxdec.c
AVCODEC_C_FILES-$(CONFIG_LIBVPX_ENCODER)             += libvpxenc.c
AVCODEC_C_FILES-$(CONFIG_LIBX264_ENCODER)            += libx264.c
AVCODEC_C_FILES-$(CONFIG_LIBXAVS_ENCODER)            += libxavs.c
AVCODEC_C_FILES-$(CONFIG_LIBXVID_ENCODER)            += libxvid.c
 
# parsers
AVCODEC_C_FILES-$(CONFIG_AAC_PARSER)              += aac_parser.c aac_ac3_parser.c \
                                                     aacadtsdec.c mpeg4audio.c
AVCODEC_C_FILES-$(CONFIG_AC3_PARSER)              += ac3_parser.c ac3tab.c \
                                                     aac_ac3_parser.c
AVCODEC_C_FILES-$(CONFIG_ADX_PARSER)              += adx_parser.c adx.c
AVCODEC_C_FILES-$(CONFIG_CAVSVIDEO_PARSER)        += cavs_parser.c
AVCODEC_C_FILES-$(CONFIG_COOK_PARSER)             += cook_parser.c
AVCODEC_C_FILES-$(CONFIG_DCA_PARSER)              += dca_parser.c
AVCODEC_C_FILES-$(CONFIG_DIRAC_PARSER)            += dirac_parser.c
AVCODEC_C_FILES-$(CONFIG_DNXHD_PARSER)            += dnxhd_parser.c
AVCODEC_C_FILES-$(CONFIG_DVBSUB_PARSER)           += dvbsub_parser.c
AVCODEC_C_FILES-$(CONFIG_DVDSUB_PARSER)           += dvdsub_parser.c
AVCODEC_C_FILES-$(CONFIG_FLAC_PARSER)             += flac_parser.c flacdata.c flac.c \
                                                     vorbis_data.c
AVCODEC_C_FILES-$(CONFIG_GSM_PARSER)              += gsm_parser.c
AVCODEC_C_FILES-$(CONFIG_H261_PARSER)             += h261_parser.c
AVCODEC_C_FILES-$(CONFIG_H263_PARSER)             += h263_parser.c
AVCODEC_C_FILES-$(CONFIG_H264_PARSER)             += h264_parser.c h264.c            \
                                                     cabac.c                         \
                                                     h264_refs.c h264_sei.c h264_direct.c \
                                                     h264_loopfilter.c h264_cabac.c  \
                                                     h264_cavlc.c h264_ps.c          \
						                                         mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_AAC_LATM_PARSER)         += latm_parser.c
AVCODEC_C_FILES-$(CONFIG_MJPEG_PARSER)            += mjpeg_parser.c
AVCODEC_C_FILES-$(CONFIG_MLP_PARSER)              += mlp_parser.c mlp.c
AVCODEC_C_FILES-$(CONFIG_MPEG4VIDEO_PARSER)       += mpeg4video_parser.c h263.c      \
                                                     mpegvideo.c error_resilience.c  \
                                                     mpeg4videodec.c mpeg4video.c    \
                                                     ituh263dec.c h263dec.c
AVCODEC_C_FILES-$(CONFIG_PNG_PARSER)              += png_parser.c
AVCODEC_C_FILES-$(CONFIG_MPEGAUDIO_PARSER)        += mpegaudio_parser.c    \
                                                     mpegaudiodecheader.c mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_MPEGVIDEO_PARSER)        += mpegvideo_parser.c    \
                                                     mpeg12.c mpeg12data.c \
                                                     mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_PNM_PARSER)              += pnm_parser.c pnm.c
AVCODEC_C_FILES-$(CONFIG_RV30_PARSER)             += rv34_parser.c
AVCODEC_C_FILES-$(CONFIG_RV40_PARSER)             += rv34_parser.c
AVCODEC_C_FILES-$(CONFIG_VC1_PARSER)              += vc1_parser.c vc1.c vc1data.c \
                                                     msmpeg4.c msmpeg4data.c mpeg4video.c \
                                                     h263.c mpegvideo.c error_resilience.c
AVCODEC_C_FILES-$(CONFIG_VORBIS_PARSER)           += vorbis_parser.c xiph.c
AVCODEC_C_FILES-$(CONFIG_VP3_PARSER)              += vp3_parser.c
AVCODEC_C_FILES-$(CONFIG_VP8_PARSER)              += vp8_parser.c
 
# bitstream filters
AVCODEC_C_FILES-$(CONFIG_AAC_ADTSTOASC_BSF)          += aac_adtstoasc_bsf.c aacadtsdec.c \
                                                        mpeg4audio.c
AVCODEC_C_FILES-$(CONFIG_CHOMP_BSF)                  += chomp_bsf.c
AVCODEC_C_FILES-$(CONFIG_DUMP_EXTRADATA_BSF)         += dump_extradata_bsf.c
AVCODEC_C_FILES-$(CONFIG_H264_MP4TOANNEXB_BSF)       += h264_mp4toannexb_bsf.c
AVCODEC_C_FILES-$(CONFIG_IMX_DUMP_HEADER_BSF)        += imx_dump_header_bsf.c
AVCODEC_C_FILES-$(CONFIG_MJPEG2JPEG_BSF)             += mjpeg2jpeg_bsf.c mjpeg.c
AVCODEC_C_FILES-$(CONFIG_MJPEGA_DUMP_HEADER_BSF)     += mjpega_dump_header_bsf.c
AVCODEC_C_FILES-$(CONFIG_MOV2TEXTSUB_BSF)            += movsub_bsf.c
AVCODEC_C_FILES-$(CONFIG_MP3_HEADER_COMPRESS_BSF)    += mp3_header_compress_bsf.c
AVCODEC_C_FILES-$(CONFIG_MP3_HEADER_DECOMPRESS_BSF)  += mp3_header_decompress_bsf.c \
                                                        mpegaudiodata.c
AVCODEC_C_FILES-$(CONFIG_NOISE_BSF)                  += noise_bsf.c
AVCODEC_C_FILES-$(CONFIG_REMOVE_EXTRADATA_BSF)       += remove_extradata_bsf.c
AVCODEC_C_FILES-$(CONFIG_TEXT2MOVSUB_BSF)            += movsub_bsf.c

# thread libraries
AVCODEC_C_FILES-$(HAVE_PTHREADS)                  += pthread.c
AVCODEC_C_FILES-$(HAVE_W32THREADS)                += pthread.c
AVCODEC_C_FILES-$(HAVE_OS2THREADS)                += pthread.c

#differfent from libavcodec's Makefile
AVCODEC_C_FILES-$(CONFIG_MLIB) += mlib/dsputil_mlib.c
 
# inverse.c contains the ff_inverse table definition, which is used by
# the FASTDIV macro (from libavutil); since referencing the external
# table has a negative effect on performance, copy it in libavcodec as
# well.
AVCODEC_C_FILES-$(!CONFIG_SMALL)               += inverse.c

#added by xjm from 0.10.2,but may not do something
SKIPHEADERS                            += %_tablegen.h                  \
                                          %_tables.h                    \
                                          aac_tablegen_decl.h           \
										  codec_names.h                 \
                                          fft-internal.h                \
                                          tableprint.h                  \
                                          $(ARCH)/vp56_arith.h          \
SKIPHEADERS-$(CONFIG_DXVA2)            += dxva2.h dxva2_internal.h
SKIPHEADERS-$(CONFIG_LIBSCHROEDINGER)  += libschroedinger.h
SKIPHEADERS-$(CONFIG_LIBUTVIDEO)       += libutvideo.h
SKIPHEADERS-$(CONFIG_MPEG_XVMC_DECODER) += xvmc.h
SKIPHEADERS-$(CONFIG_VAAPI)            += vaapi_internal.h
SKIPHEADERS-$(CONFIG_VDA)              += vda.h vda_internal.h
SKIPHEADERS-$(CONFIG_VDPAU)            += vdpau.h
SKIPHEADERS-$(HAVE_OS2THREADS)         += os2threads.h
SKIPHEADERS-$(HAVE_W32THREADS)         += w32pthreads.h

AVCODEC_C_FILES += $(AVCODEC_C_FILES-yes)
 
AVCODEC_SRC_FILES = $(addprefix libavcodec/, $(sort $(AVCODEC_C_FILES)))
 
# libavcodec arm
AVCODEC_ARM_C_FILES-$(CONFIG_AC3DSP)         += arm/ac3dsp_init_arm.c         \
                                                arm/ac3dsp_arm.S

AVCODEC_ARM_C_FILES-$(CONFIG_AAC_DECODER)    += arm/sbrdsp_init_arm.c         \
                                                arm/aacpsdsp_init_arm.c

AVCODEC_ARM_C_FILES-$(CONFIG_DCA_DECODER)    += arm/dcadsp_init_arm.c         \

ARMV6-FILES-$(CONFIG_AC3DSP)                 += arm/ac3dsp_armv6.S

AVCODEC_ARM_C_FILES-$(CONFIG_MPEGAUDIODSP)   += arm/mpegaudiodsp_init_arm.c
ARMV6-FILES-$(CONFIG_MPEGAUDIODSP)           += arm/mpegaudiodsp_fixed_armv6.S

AVCODEC_ARM_C_FILES-$(CONFIG_VP5_DECODER)    += arm/vp56dsp_init_arm.c
AVCODEC_ARM_C_FILES-$(CONFIG_VP6_DECODER)    += arm/vp56dsp_init_arm.c
AVCODEC_ARM_C_FILES-$(CONFIG_VP8_DECODER)    += arm/vp8dsp_init_arm.c
ARMV6-FILES-$(CONFIG_VP8_DECODER)            += arm/vp8_armv6.S              \
                                                arm/vp8dsp_init_armv6.c      \
                                                arm/vp8dsp_armv6.S

AVCODEC_ARM_C_FILES-$(CONFIG_H264DSP)        += arm/h264dsp_init_arm.c
AVCODEC_ARM_C_FILES-$(CONFIG_H264PRED)       += arm/h264pred_init_arm.c
 
AVCODEC_ARM_C_FILES                          += arm/dsputil_init_arm.c       \
                                                arm/dsputil_arm.S            \
                                                arm/fft_init_arm.c           \
                                                arm/fft_fixed_init_arm.c     \
                                                arm/fmtconvert_init_arm.c    \
                                                arm/jrevdct_arm.S            \
                                                arm/mpegvideo_arm.c          \
                                                arm/simple_idct_arm.S        \
    
AVCODEC_ARM_C_FILES-$(HAVE_ARMV5TE)         += arm/dsputil_init_armv5te.c    \
                                               arm/mpegvideo_armv5te.c       \
                                               arm/mpegvideo_armv5te_s.S     \
                                               arm/simple_idct_armv5te.S     \
   
	
AVCODEC_ARM_C_FILES-$(HAVE_ARMV6)       += arm/dsputil_init_armv6.c          \
                                           arm/dsputil_armv6.S               \
                                           arm/simple_idct_armv6.S           \
                                           $(ARMV6-FILES-yes)
    
VFP-FILES-$(HAVE_ARMV6)                 += arm/fmtconvert_vfp.S              \
 
AVCODEC_ARM_C_FILES-$(HAVE_ARMVFP)      += arm/dsputil_vfp.S                 \
                                           arm/dsputil_init_vfp.c            \
                                           $(VFP-FILES-yes)    

ifeq ($(TARGET_ARCH_ABI),armeabi-v7a)
	ifeq ($(SUPPORT_NEON),true)

NEON-FILES-$(CONFIG_FFT)                += arm/fft_neon.S                    \
                                           arm/fft_fixed_neon.S              \
    
NEON-FILES-$(CONFIG_MDCT)               += arm/mdct_neon.S                   \
                                           arm/mdct_fixed_neon.S             \
    
NEON-FILES-$(CONFIG_RDFT)               += arm/rdft_neon.S                   \
 
NEON-FILES-$(CONFIG_H264DSP)            += arm/h264dsp_neon.S                \
                                           arm/h264idct_neon.S               \
                                           arm/h264cmc_neon.S                \
    
NEON-FILES-$(CONFIG_H264PRED)           += arm/h264pred_neon.S               \
 
NEON-FILES-$(CONFIG_AC3DSP)             += arm/ac3dsp_neon.S

# comment out by xjm for AAC decoder in neon will crash
# so that aacpsdsp_init_arm.cdsputil_init_neon.csbrdsp_init_arm.c need change
# see code
#NEON-FILES-$(CONFIG_AAC_DECODER)        += arm/sbrdsp_neon.S                 \
#                                           arm/aacpsdsp_neon.S

NEON-FILES-$(CONFIG_DCA_DECODER)        += arm/dcadsp_neon.S                  \
                                           arm/synth_filter_neon.S            \

NEON-FILES-$(CONFIG_RV30_DECODER)       += arm/rv34dsp_init_neon.c            \
                                           arm/rv34dsp_neon.S                 \

NEON-FILES-$(CONFIG_RV40_DECODER)       += arm/rv34dsp_init_neon.c            \
                                           arm/rv34dsp_neon.S                 \
                                           arm/rv40dsp_init_neon.c            \
                                           arm/rv40dsp_neon.S                 \
                                           arm/h264cmc_neon.S                 \
    
NEON-FILES-$(CONFIG_VP3_DECODER)        += arm/vp3dsp_neon.S
 
NEON-FILES-$(CONFIG_VP5_DECODER)        += arm/vp56dsp_neon.S                 \
                                           arm/vp3dsp_neon.S                  \
 
NEON-FILES-$(CONFIG_VP6_DECODER)        += arm/vp56dsp_neon.S                 \
                                           arm/vp3dsp_neon.S                  \
 
NEON-FILES-$(CONFIG_VP8_DECODER)        += arm/vp8dsp_init_neon.c             \
                                           arm/vp8dsp_neon.S
 
AVCODEC_ARM_C_FILES-$(HAVE_NEON)        += arm/dsputil_init_neon.c            \
                                           arm/dsputil_neon.S                 \
                                           arm/fmtconvert_neon.S              \
                                           arm/int_neon.S                     \
                                           arm/mpegvideo_neon.S               \
                                           arm/simple_idct_neon.S             \
                                           $(NEON-FILES-yes)


	endif
endif
    
AVCODEC_ARM_C_FILES += $(AVCODEC_ARM_C_FILES-yes)
AVCODEC_ARM_SRC_FILES = $(addprefix libavcodec/, $(sort $(AVCODEC_ARM_C_FILES)))
LOCAL_SRC_FILES := $(AVCODEC_ARM_SRC_FILES) \
                   $(AVCODEC_SRC_FILES)
LOCAL_ARM_MODE := arm

include $(BUILD_STATIC_LIBRARY)